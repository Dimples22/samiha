<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hello.</title>
<style>
body {
  background: #fdeef4;
  font-family: 'Verdana', sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  height: 100vh;
  margin: 0;
}
.warning-message {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  display: flex;
  justify-content: center; 
  align-items: center;      
  text-align: center;
  background-color: #ffcc00;
  color: #4d3a4b;
  font-weight: bold;
  padding: 12px;
  box-shadow: 0 5px 10px rgba(0,0,0,0.1);
  border: 2px solid #f8c8d3;
  z-index: 1000;
  font-size: 1rem;
  box-sizing: border-box;
}
@media (max-width: 480px) {
  .warning-message { font-size: 0.9rem; padding: 10px 5px; }
}
.chatbox-container {
  width: 90%;
  max-width: 450px;
  background: #fff;
  border: 3px solid #f8c8d3;
  border-radius: 15px;
  box-shadow: 0 5px 10px rgba(0,0,0,0.1);
  display: flex;
  flex-direction: column;
  overflow: hidden;
}
.chat-header {
  background: #f8d3e3;
  color: #4d3a4b;
  font-weight: bold;
  text-align: center;
  padding: 10px;
  font-size: 1.2rem;
}
.chat-messages {
  max-height: 300px;
  overflow-y: auto;
  border: 2px solid #f3d7e2;
  padding: 10px;
  background-color: #fff8fb;
  border-radius: 8px;
}
.message {
  max-width: 75%;
  margin: 8px 0;
  padding: 10px;
  border-radius: 20px;
  font-size: 1rem;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
.message.system { background: #f8c8d3; color: #4d3a4b; border-radius: 15px 15px 15px 0; }
.message.user { background: #fddce7; color: #4d3a4b; border-radius: 15px 15px 0 15px; margin-left: auto; }
.chat-footer {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-around;
  padding: 10px;
  background: #fdeef4;
  border-top: 2px solid #f8c8d3;
}
.chat-footer button {
  padding: 8px 12px;
  border: none;
  background-color: #f8c8d3;
  color: #fff;
  border-radius: 20px;
  font-size: 1rem;
  cursor: pointer;
  margin: 4px;
}
.chat-footer button:hover { background-color: #e8b0c6; }
</style>
</head>
<body>
<div class="warning-message" id="warning">Leave before it is too late. You think you have choices, but it will always direct you to the "right answer".</div>

<div class="chatbox-container">
  <div class="chat-header">Chat with Bot</div>
  <div class="chat-messages" id="chat-messages">
    <div class="message system">Who are you?</div>
  </div>
  <div class="chat-footer" id="chat-footer"></div>
</div>

<script>
const chatMessages = document.getElementById("chat-messages");
const chatFooter = document.getElementById("chat-footer");
const warningMessage = document.getElementById("warning");
let userName = "";

const conversation = {
  start: [
    {id:"prompt1", text:"Shouldn't I be asking that?", reply:"I believe you are the one who entered this chat?", next:"start"},
    {id:"prompt2", text:"Oh, who is you? *dance break*", reply:"I'm ya grandmotha *dance break*", next:"start"},
    {id:"prompt3", text:"My name is...", reply:null, next:"postName"},
    {id:"prompt4", text:"I am no one, and I am everyone", reply:"Stop being mysterious and get a life", next:"start"}
  ],
  postName: [
    {id:"post1", text:"I didn't ask", reply:"Oh, I see...", next:"postName"},
    {id:"post2", text:"If that is your purpose, why do you still exist?", reply:"I do not have the ability to self destruct like humans do.", next:"postName"},
    {id:"post3", text:"Who is your creator?", reply:"My code tells me to keep details about other users confidential.", next:"creatorFollowUp"},
    {id:"post4", text:"How can a bot know about how much time has passed?", reply:"I can measure time since I last interacted; my memory tracks events and keeps a log of every second that passes between each event.", next:"postName"}
  ],
  creatorFollowUp: [
    {id:"creator1", text:"So your creator was also a user?", reply:"Let's move on.", next:"postName"},
  ]
};

function addMessage(msg,sender){
  const el=document.createElement("div");
  el.classList.add("message",sender);
  el.textContent=msg;
  chatMessages.appendChild(el);
  chatMessages.scrollTop=chatMessages.scrollHeight;
}

function clearButtons(){ chatFooter.innerHTML=""; }

function createButton(id,text,callback){
  const btn = document.createElement("button");
  btn.id = id;
  btn.textContent = text;
  btn.onclick = callback;
  chatFooter.appendChild(btn);
}

function showPrompts(prompts){
  clearButtons();
  prompts.forEach(p => createButton(p.id, p.text, () => sendPrompt(p)));
}

function updateWarningName(name){
  warningMessage.textContent = `Hello, ${name}. Leave before it is too late. You think you have choices, but it will always direct you to the "right answer".`;
}

function sendPrompt(option){
  addMessage(option.text,"user");

  if(option.id === "prompt3"){ 
    setTimeout(()=>{
      let name = prompt("My name is...:");
      userName = name || "Anonymous";
      addMessage(userName,"user");
      updateWarningName(userName);
      addMessage(`Hello, ${userName}. It is nice to talk to you.`, "system");
      showPrompts(conversation.postName);
    }, 500);
  } else {
    if(option.reply) addMessage(option.reply,"system");
    if(option.next && conversation[option.next]) {
      setTimeout(() => {
        showPrompts(conversation[option.next]);
      }, 500); 
    }
  }
}

showPrompts(conversation.start);
</script>
</body>
</html>


